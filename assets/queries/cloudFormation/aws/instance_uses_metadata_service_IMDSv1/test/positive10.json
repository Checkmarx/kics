{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "Example",
    "Resources": {
        "MyEC2Instance": {
            "Type": "AWS::EC2::Instance",
            "Properties": {
                "ImageId": "ami-0abcdef1234567890",
                "InstanceType": "t3.micro",
                "MetadataOptions": {
                    "HttpEndpoint": "enabled",
                    "HttpPutResponseHopLimit": 2,
                    "HttpProtocolIpv6": "disabled"
                }
            }
        },
        "MyLaunchTemplate": {
            "Type": "AWS::EC2::LaunchTemplate",
            "Properties": {
                "LaunchTemplateName": "MySecureLaunchTemplate",
                "LaunchTemplateData": {
                    "ImageId": "ami-0abcdef1234567890",
                    "InstanceType": "t3.micro",
                    "MetadataOptions": {
                        "HttpEndpoint": "enabled",
                        "HttpPutResponseHopLimit": 2,
                        "HttpProtocolIpv6": "disabled"
                    }
                }
            }
        }
    }
}