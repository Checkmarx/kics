{
  "Resources": {
    "ECSLaunchTemplate": {
      "Type": "AWS::EC2::LaunchTemplate",
      "Properties": {
        "LaunchTemplateName": "ECS-Encrypted-LT",
        "LaunchTemplateData": {
          "ImageId": "ami-xxxxxxxxxxxxxx",
          "InstanceType": "t3.micro",
          "BlockDeviceMappings": [
            {
              "DeviceName": "/dev/xvda",
              "Ebs": {
                "VolumeSize": 30,
                "VolumeType": "gp2",
                "Encrypted": true
              }
            }
          ],
          "UserData": {
            "Fn::Base64": {
              "Fn::Sub": "#!/bin/bash\necho ECS_CLUSTER=${ECSCluster} >> /etc/ecs/ecs.config"
            }
          }
        }
      }
    }
  }
}
